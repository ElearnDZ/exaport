<style>
		table {
			border-collapse: collapse;
		}
		td {
			border: 1px solid black;
			padding: 2px 5px;
		}
	</style><h2>block_exaport_get_items</h2><div>Returns categories and items for a particular level</div><div>type: read</div>Params: <table><tr><td>level<td>int<td>null<td>required<td><td>id of level/parent category</table>Returns:<pre>[
    {
        "id": "int null (id of item)",
        "name": "text null (title of item)",
        "type": "text null (title of item (note,file,link,category))",
        "parent": "text null (iff item is a cat, parent-cat is returned)",
        "amount": "int null (iff item is a cat, amount of items in the category, otherwise 0)"
    },
    "..."
]</pre><h2>block_exaport_get_item</h2><div>Returns detailed information for a particular item</div><div>type: read</div>Params: <table><tr><td>itemid<td>int<td>null<td>required<td><td>id of item</table>Returns:<pre>{
    "id": "int null (id of item)",
    "name": "text null (title of item)",
    "type": "text null (type of item (note,file,link,category))",
    "category": "text null (title of category)",
    "url": "text null (url)",
    "intro": "raw null (description of item)",
    "filename": "text null (title of item)",
    "file": "url null (file url)",
    "isimage": "bool null (true if file is image)",
    "mimetype": "text null (mimetype)"
}</pre><h2>block_exaport_add_item</h2><div>Adds a new item to the users portfolio</div><div>type: write</div>Params: <table><tr><td>title<td>text<td>null<td>required<td><td>item title<tr><td>categoryid<td>int<td>null<td>required<td><td>categoryid<tr><td>url<td>url<td>null<td>required<td><td>url<tr><td>intro<td>raw<td>null<td>required<td><td>introduction<tr><td>filename<td>text<td>null<td>required<td><td>filename, used to look up file and create a new one in the exaport file area<tr><td>type<td>text<td>null<td>required<td><td>type of item (note,file,link,category)<tr><td>fileitemid<td>int<td>null<td>required<td><td>itemid for draft-area files; for "private" files is ignored</table>Returns:<pre>{
    "success": "bool null (status)"
}</pre><h2>block_exaport_update_item</h2><div>Edit an item from the users portfolio</div><div>type: write</div>Params: <table><tr><td>id<td>int<td>null<td>required<td><td>item id<tr><td>title<td>text<td>null<td>required<td><td>item title<tr><td>url<td>text<td>null<td>required<td><td>url<tr><td>intro<td>raw<td>null<td>required<td><td>introduction<tr><td>filename<td>text<td>null<td>required<td><td>filename, used to look up file and create a new one in the exaport file area<tr><td>type<td>text<td>null<td>required<td><td>type of item (note,file,link,category)</table>Returns:<pre>{
    "success": "bool null (status)"
}</pre><h2>block_exaport_delete_item</h2><div>Delete an item from the users portfolio</div><div>type: write</div>Params: <table><tr><td>id<td>int<td>null<td>required<td><td>item id</table>Returns:<pre>{
    "success": "bool null (status)"
}</pre><h2>block_exaport_list_competencies</h2><div>List all available competencies</div><div>type: read</div>Params: <table></table>Returns:<pre>[
    {
        "id": "int null (id of subject)",
        "name": "text null (title of subject)",
        "topics": [
            {
                "id": "int null (id of topic)",
                "name": "text null (title of topic)",
                "descriptors": [
                    {
                        "id": "int null (id of descriptor)",
                        "name": "text null (name of descriptor)"
                    },
                    "..."
                ]
            },
            "..."
        ]
    },
    "..."
]</pre><h2>block_exaport_set_item_competence</h2><div>assign a competence to an item</div><div>type: read</div>Params: <table><tr><td>itemid<td>int<td>null<td>required<td><td>item id<tr><td>descriptorid<td>int<td>null<td>required<td><td>descriptor id<tr><td>val<td>int<td>null<td>required<td><td>1 to assign, 0 to unassign</table>Returns:<pre>{
    "success": "bool null (status)"
}</pre><h2>block_exaport_get_views</h2><div>Return available views</div><div>type: read</div>Params: <table></table>Returns:<pre>[
    {
        "id": "int null (id of view)",
        "name": "text null (title of view)",
        "description": "raw null (description of view)"
    },
    "..."
]</pre><h2>block_exaport_get_view</h2><div>Return detailed view</div><div>type: read</div>Params: <table><tr><td>id<td>int<td>null<td>required<td><td>view id</table>Returns:<pre>{
    "id": "int null (id of view)",
    "name": "text null (title of view)",
    "description": "raw null (description of view)",
    "items": [
        {
            "id": "int null (id of item)",
            "name": "text null (title of item)",
            "type": "text null (title of item (note,file,link,category))"
        },
        "..."
    ]
}</pre><h2>block_exaport_add_view</h2><div>Add a new view to the users portfolio</div><div>type: write</div>Params: <table><tr><td>name<td>text<td>null<td>required<td><td>view title<tr><td>description<td>text<td>null<td>required<td><td>description</table>Returns:<pre>{
    "success": "bool null (status)"
}</pre><h2>block_exaport_update_view</h2><div>Edit a view from the users portfolio</div><div>type: write</div>Params: <table><tr><td>id<td>int<td>null<td>required<td><td>view id<tr><td>name<td>text<td>null<td>required<td><td>view title<tr><td>description<td>text<td>null<td>required<td><td>description</table>Returns:<pre>{
    "success": "bool null (status)"
}</pre><h2>block_exaport_delete_view</h2><div>Delete a view from the users portfolio</div><div>type: write</div>Params: <table><tr><td>id<td>int<td>null<td>required<td><td>view id</table>Returns:<pre>{
    "success": "bool null (status)"
}</pre><h2>block_exaport_get_all_items</h2><div>Return all items, independent from level</div><div>type: read</div>Params: <table></table>Returns:<pre>[
    {
        "id": "int null (id of category)",
        "pid": "text null (parentid)",
        "name": "text null (title of category)",
        "items": [
            {
                "id": "int null (id of item)",
                "name": "text null (name of item)",
                "type": "text null (type of item (note,file,link,category))",
                "url": "text null (url)",
                "intro": "raw null (description of item)",
                "filename": "text null (title of item)",
                "file": "url null (file url)",
                "isimage": "bool null (true if file is image)",
                "mimetype": "text null (mimetype)"
            },
            "..."
        ]
    },
    "..."
]</pre><h2>block_exaport_add_view_item</h2><div>Add item to a view</div><div>type: write</div>Params: <table><tr><td>viewid<td>int<td>null<td>required<td><td>view id<tr><td>itemid<td>int<td>null<td>required<td><td>item id</table>Returns:<pre>{
    "success": "bool null (status)"
}</pre><h2>block_exaport_delete_view_item</h2><div>Remove item from a view</div><div>type: write</div>Params: <table><tr><td>viewid<td>int<td>null<td>required<td><td>view id<tr><td>itemid<td>int<td>null<td>required<td><td>item id</table>Returns:<pre>{
    "success": "bool null (status)"
}</pre><h2>block_exaport_view_grant_external_access</h2><div>Grant external access to a view</div><div>type: write</div>Params: <table><tr><td>id<td>int<td>null<td>required<td><td>view id<tr><td>val<td>int<td>null<td>required<td><td>1 for check, 0 for uncheck</table>Returns:<pre>{
    "success": "bool null (status)"
}</pre><h2>block_exaport_view_get_available_users</h2><div>Get users who can get access</div><div>type: read</div>Params: <table></table>Returns:<pre>[
    {
        "id": "int null (id of user)",
        "firstname": "text null (firstname of user)",
        "lastname": "text null (lastname of user)"
    },
    "..."
]</pre><h2>block_exaport_view_grant_internal_access_all</h2><div>Grant internal access to a view to all users</div><div>type: write</div>Params: <table><tr><td>id<td>int<td>null<td>required<td><td>view id<tr><td>val<td>int<td>null<td>required<td><td>1 for check, 0 for uncheck</table>Returns:<pre>{
    "success": "bool null (status)"
}</pre><h2>block_exaport_view_grant_internal_access</h2><div>Grant internal access to a view to one user</div><div>type: write</div>Params: <table><tr><td>viewid<td>int<td>null<td>required<td><td>view id<tr><td>userid<td>int<td>null<td>required<td><td>user id<tr><td>val<td>int<td>null<td>required<td><td>1 for check, 0 for uncheck</table>Returns:<pre>{
    "success": "bool null (status)"
}</pre><h2>block_exaport_get_category</h2><div>Get category infor</div><div>type: read</div>Params: <table><tr><td>categoryid<td>int<td>null<td>required<td><td>cat id</table>Returns:<pre>{
    "name": "text null (title of category)",
    "items": "int null (amount of category items)"
}</pre><h2>block_exaport_delete_category</h2><div>Delete category</div><div>type: write</div>Params: <table><tr><td>categoryid<td>int<td>null<td>required<td><td>cat id</table>Returns:<pre>{
    "success": "bool null (status)"
}</pre><h2>block_exaport_get_competencies_by_item</h2><div>Get competence ids for a ePortfolio item</div><div>type: read</div>Params: <table><tr><td>itemid<td>int<td>null<td>required<td><td>item id</table>Returns:<pre>[
    {
        "competenceid": "int null (id of competence)"
    },
    "..."
]</pre><h2>block_exaport_get_users_by_view</h2><div>Get view users</div><div>type: read</div>Params: <table><tr><td>viewid<td>int<td>null<td>required<td><td>view id</table>Returns:<pre>[
    {
        "userid": "int null (id of user)"
    },
    "..."
]</pre><h2>block_exaport_export_file_to_externalportfolio</h2><div>Export file to external portfolio</div><div>type: write</div>Params: <table><tr><td>component<td>raw<td>null<td>required<td><td>filestorage - component<tr><td>filearea<td>raw<td>null<td>required<td><td>filestorage - filearea<tr><td>filename<td>raw<td>null<td>required<td><td>filestorage - filename<tr><td>filepath<td>raw<td>null<td>required<td><td>filestorage - filepath<tr><td>itemid<td>int<td>null<td>required<td><td>filestorage - itemid</table>Returns:<pre>{
    "success": "text null (status)",
    "linktofile": "text null (link to file)"
}</pre><h2>block_exaport_login</h2><div>webservice called through token.php</div><div>type: read</div>Params: <table><tr><td>app<td>int<td>null<td>required<td><td>app accessing this service (eg. dakora)<tr><td>app_version<td>int<td>null<td>required<td><td>version of the app (eg. 4.6.0)<tr><td>services<td>int<td>null<td><td>default: moodle_mobile_app,exaportservices<td>wanted webservice tokens (eg. exacomp,exaport)</table>Returns:<pre>{
    "user": {
        "id": "int null (ID of the user)",
        "username": "raw null (The username)",
        "firstname": "notags null (The first name(s) of the user)",
        "lastname": "notags null (The family name of the user)",
        "fullname": "notags null (The fullname of the user)",
        "email": "text null (An email address - allow email as root@localhost)",
        "firstaccess": "int null (first access to the site (0 if never))",
        "lastaccess": "int null (last access to the site (0 if never))",
        "auth": "plugin null (Auth plugins include manual, ldap, imap, etc)",
        "confirmed": "int null (Active user: 1 if confirmed, 0 otherwise)",
        "lang": "safedir null (Language code such as \"en\", must exist on server)",
        "url": "url null (URL of the user)",
        "profileimageurlsmall": "url null (User image profile URL - small version)",
        "profileimageurl": "url null (User image profile URL - big version)"
    },
    "config": [],
    "tokens": [
        {
            "service": "text null (name of service)",
            "token": "text null (token of the service)"
        },
        "..."
    ]
}</pre>